define("enrol_wallet/offers",["exports","core/ajax","jquery"],(function(_exports,_ajax,_jquery){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Handle the offers form adding and deleting cases.
   *
   * @module     enrol_wallet/offers
   * @copyright  2024 2024, Mohammad Farouk <phun.for.physics@gmail.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */let container,courseid,selector;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=_interopRequireDefault(_ajax),_jquery=_interopRequireDefault(_jquery);let i=0;function addDeleteButtonListener(){let buttons=(0,_jquery.default)('[data-action="deleteoffer"]');buttons.off("click"),buttons.on("click",(function(event){let number=event.target.getAttribute("data-action-delete");document.getElementById("offer_group_"+number).remove()}))}function addSelectListener(){let select=document.getElementsByName("add_offer");selector=select[0],selector.onchange=()=>{var type;i++,type=selector.value,_ajax.default.call([{methodname:"enrol_wallet_get_offer_form_fragment",args:{type:type,increment:i,course:courseid}}])[0].done((data=>{container.innerHTML=container.innerHTML+data.data,addDeleteButtonListener(),addSelectListener()})),selector.value=""}}_exports.init=function(cid){let inc=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i=inc,courseid=cid,container=document.getElementById("id_wallet_offerscontainer"),addDeleteButtonListener(),addSelectListener()}}));

//# sourceMappingURL=offers.min.js.map